"use strict";function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}!function(c){if("undefined"!=typeof module&&module.exports)module.exports=c(function(a){return Buffer.from(a,"base64").toString()},function(a){return Buffer.from(a.buffer).toString("base64")});else{var a=c(atob,function(a){return btoa(a.toString())});for(var b in a)window[b]=a[b]}}(function(a,b){var c=function(){function a(){_classCallCheck(this,a),this.buffer=[]}return _createClass(a,[{key:"write",value:function write(a){this.buffer.push(255&a)}},{key:"writeInt",value:function writeInt(a){this.write(a),this.write(a>>8),this.write(a>>16),this.write(a>>24)}},{key:"writeString",value:function writeString(a){var b;a=Array.prototype.slice.call(new TextEncoder("utf-8").encode(a),0),this.writeInt(a.length),(b=this.buffer).push.apply(b,_toConsumableArray(a))}},{key:"toString",value:function toString(){return String.fromCharCode.apply(null,this.buffer)}}]),a}(),d=function(){function a(b){_classCallCheck(this,a),this.index=0,this.buffer=new Uint8Array(b.length);for(var c=0;c<b.length;c++)this.buffer[c]=b.charCodeAt(c)}return _createClass(a,[{key:"read",value:function read(){return this.buffer[this.index++]}},{key:"readInt",value:function readInt(){return this.read()|this.read()<<8|this.read()<<16|this.read()<<24}},{key:"readString",value:function readString(){var a=this.readInt();return new TextDecoder("utf-8").decode(this.buffer.slice(this.index,this.index+=a))}}]),a}();return{encode:function encode(a){var d=new c;for(var e in d.writeInt(Object.keys(a).length),a)d.writeString(e),d.writeString(a[e]);return b(d)},decode:function decode(b){for(var c={},e=new d(a(b)),f=e.readInt();0<f--;)c[e.readString()]=e.readString();return c}}});